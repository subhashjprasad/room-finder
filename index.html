<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Berkeley Room Finder</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://api.mapbox.com/mapbox-gl-js/v3.5.1/mapbox-gl.css" rel="stylesheet">
<link href="static/styles.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v3.5.1/mapbox-gl.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;700&display=swap">
</head>
<body>
    <div id="map"></div>
    <div id="infoPanel">
        <div id="infoTitle">Building Information</div>
        <br>
        <div id="infoContentTitle">Hover over a building</div>
        <div id="infoContent"></div>
    </div>  
    <div id="leftPanel">
        <div class="checkbox-container">
            <label for="useCurrentTime">Use Current Time</label>
            <input type="checkbox" id="useCurrentTime" checked/>
        </div>        
        <div class="panel-section">
            <label for="dayDropdown">Day:</label>
            <select id="dayDropdown">
                <option value="M">M</option>
                <option value="TU">TU</option>
                <option value="W">W</option>
                <option value="TH">TH</option>
                <option value="F">F</option>
                <option value="SA">SA</option>
                <option value="SU">SU</option>
            </select>
        </div>
        <div class="panel-section">
            <label>Time:</label>
            <div class="time-selectors">
                <select id="hourDropdown">
                    <!-- Hours from 1 to 12 -->
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>
                <select id="minuteDropdown">
                    <option value="00">00</option>
                    <option value="30">30</option>
                </select>
                <select id="ampmDropdown">
                    <option value="AM">AM</option>
                    <option value="PM">PM</option>
                </select>
            </div>
        </div>
        <div class="panel-section">
            <label>Duration (hours):</label>
            <div class="duration-controls">
                <span id="durationBox">1.0</span>
                <button id="decrementButton">-</button>
                <button id="incrementButton">+</button>
            </div>
        </div>
    </div>  

    <script>
        const nightStyle = 'mapbox://styles/subhashjprasad/clz7amqwi00r201r58css0qzr'
        const dayStyle = 'mapbox://styles/subhashjprasad/clz96zwsn004601r49ogl0wtg'
        const duskStyle = 'mapbox://styles/subhashjprasad/clz97be4h004v01r22p2yagd8'
        const dawnStyle = 'mapbox://styles/subhashjprasad/clz97aquu004801r44ghxcr1s'
        
        mapboxgl.accessToken = 'pk.eyJ1Ijoic3ViaGFzaGpwcmFzYWQiLCJhIjoiY2x3YmgzNXc2MDN5bjJrcG5ncWFhazRoMSJ9.1ooSMBkSVBY6daKYb3WVmw';
        const currentTime = new Date();
        const hours = currentTime.getHours();

        let styleUrl;

        if (hours >= 20 || hours < 6) {
            styleUrl = nightStyle; // Night time
        } else if (hours >= 18 && hours < 20) {
            styleUrl = duskStyle; // Dusk
        } else if (hours >= 6 && hours < 8) {
            styleUrl = dawnStyle; // Dawn
        } else {
            styleUrl = dayStyle; // Day time
        }
        const map = new mapboxgl.Map({
            container: 'map',
            style: styleUrl,
            center: [-122.2595, 37.8723],
            zoom: 15.8
        });

        class CreditsControl {
            onAdd(map) {
                this._map = map;
                this._container = document.createElement('div');
                this._container.className = 'mapboxgl-ctrl';
                this._container.innerHTML = 'Developed by Subhash Prasad';
                this._container.style.cssText = `
                    background-color: rgba(255, 255, 255, 1);
                    color: rgba(0, 0, 0);
                    padding: 5px;
                    font-size: 12px;
                    position: absolute;
                    border-radius: 5px;
                    bottom: -8px;
                    left: -8px;
                    z-index: 1;
                    width: 170px;
                `;
                return this._container;
            }

            onRemove() {
                this._container.parentNode.removeChild(this._container);
                this._map = undefined;
            }
        }

        map.on('load', function () {
            map.addControl(new CreditsControl(), 'bottom-left');
            map.doubleClickZoom.disable();

            // Add a source for the bounding boxes.
            map.addSource('boundingBoxes', {
                'type': 'geojson',
                'data': {
                    "type": "FeatureCollection",
                    "features": [
                        {
                            "type": "Feature",
                            "properties": {
                                "id": "cory",
                                "name": "Cory",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [37.87506436807964, -122.25759493733312]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [[
                                    [-122.25786987180281, 37.87474551963963],
                                    [-122.25710674680911, 37.874927058237816],
                                    [-122.25723350422643, 37.87526472191534],
                                    [-122.25725227444434, 37.87535096732135],
                                    [-122.25804080642914, 37.875247765277734],
                                    [-122.25802739913061, 37.87516681089046],
                                    [-122.25786987180281, 37.87474551963963]
                                ]]
                            }
                        },
                        {
                            "type": "Feature",
                            "properties": {
                                "id": "etcheverry",
                                "name": "Etcheverry",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [37.87568611588748, -122.25930336160779]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [[
                                    [-122.25936578546208, 37.875331918144965],
                                    [-122.25928597119841, 37.875342024670836],
                                    [-122.25928194900885, 37.875329325965545],
                                    [-122.25912106142667, 37.87535049047315],
                                    [-122.25912307252146, 37.8753637182873],
                                    [-122.259054695299, 37.875373242312044],
                                    [-122.25919087266827, 37.87603159133266],
                                    [-122.2592672942698, 37.87602206739303],
                                    [-122.25927198682432, 37.87604270259398],
                                    [-122.25941812637812, 37.87602365471638],
                                    [-122.25941209309377, 37.876003019510115],
                                    [-122.25950058126398, 37.87599190824282],
                                    [-122.25936578546208, 37.875331918144965]
                                ]]
                            }
                        },
                        {
                            "type": "Feature",
                            "properties": {
                                "id": "evans",
                                "name": "Evans",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87363609593946,
                                -122.25789544210242
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25796375696567,
                                    37.873339584020584
                                    ],
                                    [
                                    -122.25793152175221,
                                    37.87334689022345
                                    ],
                                    [
                                    -122.25792615883279,
                                    37.873333265201836
                                    ],
                                    [
                                    -122.2578483965014,
                                    37.8733524460568
                                    ],
                                    [
                                    -122.25785359182957,
                                    37.87336607107488
                                    ],
                                    [
                                    -122.25779359416872,
                                    37.873379960653835
                                    ],
                                    [
                                    -122.25778806365808,
                                    37.87336620335659
                                    ],
                                    [
                                    -122.2577129827864,
                                    37.87338432594954
                                    ],
                                    [
                                    -122.25771801052333,
                                    37.873397818680075
                                    ],
                                    [
                                    -122.25765947814496,
                                    37.873412518229216
                                    ],
                                    [
                                    -122.25765378004311,
                                    37.87339783496645
                                    ],
                                    [
                                    -122.25757735844155,
                                    37.873415957551614
                                    ],
                                    [
                                    -122.25758272136096,
                                    37.87343064081077
                                    ],
                                    [
                                    -122.25754518092513,
                                    37.873439239114326
                                    ],
                                    [
                                    -122.25756126940237,
                                    37.87348039645556
                                    ],
                                    [
                                    -122.25754400750552,
                                    37.8734846294638
                                    ],
                                    [
                                    -122.25756546545864,
                                    37.87354179385763
                                    ],
                                    [
                                    -122.25758440326778,
                                    37.87353769313411
                                    ],
                                    [
                                    -122.25760268916379,
                                    37.873587356464505
                                    ],
                                    [
                                    -122.25758408653711,
                                    37.87359158946661
                                    ],
                                    [
                                    -122.25760704653582,
                                    37.87365085147048
                                    ],
                                    [
                                    -122.25762447602389,
                                    37.87364661847178
                                    ],
                                    [
                                    -122.25764291105935,
                                    37.873695297942064
                                    ],
                                    [
                                    -122.25762581675377,
                                    37.87369953093799
                                    ],
                                    [
                                    -122.25764861599869,
                                    37.87375867966025
                                    ],
                                    [
                                    -122.25766587789555,
                                    37.87375576947795
                                    ],
                                    [
                                    -122.25768470065896,
                                    37.87380222142646
                                    ],
                                    [
                                    -122.25766743876214,
                                    37.873806454416226
                                    ],
                                    [
                                    -122.25769023116959,
                                    37.87386558396643
                                    ],
                                    [
                                    -122.25770749306643,
                                    37.87386161554171
                                    ],
                                    [
                                    -122.25772358182465,
                                    37.873906061886174
                                    ],
                                    [
                                    -122.25776112226049,
                                    37.87389680223329
                                    ],
                                    [
                                    -122.25776665277114,
                                    37.873910294869965
                                    ],
                                    [
                                    -122.2578415660516,
                                    37.87389243696794
                                    ],
                                    [
                                    -122.25783642120828,
                                    37.873878416464784
                                    ],
                                    [
                                    -122.25789524573052,
                                    37.87386479154146
                                    ],
                                    [
                                    -122.2579009438324,
                                    37.873878416464784
                                    ],
                                    [
                                    -122.25797552193039,
                                    37.8738606908359
                                    ],
                                    [
                                    -122.2579703266022,
                                    37.87384666906673
                                    ],
                                    [
                                    -122.2580321677666,
                                    37.8738319858905
                                    ],
                                    [
                                    -122.25803769827725,
                                    37.87384547853905
                                    ],
                                    [
                                    -122.25811364033376,
                                    37.87382760946822
                                    ],
                                    [
                                    -122.25811012091792,
                                    37.87381411681643
                                    ],
                                    [
                                    -122.25814196325186,
                                    37.87380657680404
                                    ],
                                    [
                                    -122.2581248654807,
                                    37.87376316900137
                                    ],
                                    [
                                    -122.25814195978631,
                                    37.87375880372809
                                    ],
                                    [
                                    -122.25811915937055,
                                    37.8736985993236
                                    ],
                                    [
                                    -122.25810189747374,
                                    37.87370256775707
                                    ],
                                    [
                                    -122.25808429744401,
                                    37.87365638012144
                                    ],
                                    [
                                    -122.25810172693208,
                                    37.873652014841866
                                    ],
                                    [
                                    -122.25807909026733,
                                    37.873591664862346
                                    ],
                                    [
                                    -122.25806166077926,
                                    37.87359563330159
                                    ],
                                    [
                                    -122.25804289056134,
                                    37.87354695376541
                                    ],
                                    [
                                    -122.25806015245819,
                                    37.87354285304217
                                    ],
                                    [
                                    -122.2580373516678,
                                    37.87348368314698
                                    ],
                                    [
                                    -122.25802025736218,
                                    37.87348765159205
                                    ],
                                    [
                                    -122.25800148714423,
                                    37.873438046013405
                                    ],
                                    [
                                    -122.25801858144986,
                                    37.87343394528408
                                    ],
                                    [
                                    -122.25799710762068,
                                    37.873377681158864
                                    ],
                                    [
                                    -122.25798001331508,
                                    37.873381781891325
                                    ],
                                    [
                                    -122.25796375696567,
                                    37.873339584020584
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "dwinelle",
                                "name": "Dwinelle",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.870943108850305,
                                -122.2609066687872
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.2607557688184,
                                    37.87015022583291
                                    ],
                                    [
                                    -122.26000380441083,
                                    37.87024889366121
                                    ],
                                    [
                                    -122.26003203626038,
                                    37.870382626452454
                                    ],
                                    [
                                    -122.2600823136298,
                                    37.87037601209847
                                    ],
                                    [
                                    -122.26009236910367,
                                    37.87041781480565
                                    ],
                                    [
                                    -122.26027873055304,
                                    37.8703937385658
                                    ],
                                    [
                                    -122.26038261894652,
                                    37.87076479122371
                                    ],
                                    [
                                    -122.2602006148692,
                                    37.870807387428144
                                    ],
                                    [
                                    -122.26021368698522,
                                    37.87084733788323
                                    ],
                                    [
                                    -122.26016475034565,
                                    37.870860566505975
                                    ],
                                    [
                                    -122.2602096647957,
                                    37.87098941316719
                                    ],
                                    [
                                    -122.26051976252431,
                                    37.8709177079688
                                    ],
                                    [
                                    -122.2605314939105,
                                    37.87094628176364
                                    ],
                                    [
                                    -122.2605160755172,
                                    37.87095157320593
                                    ],
                                    [
                                    -122.26058112376903,
                                    37.87113342445857
                                    ],
                                    [
                                    -122.26050135034285,
                                    37.87115564845713
                                    ],
                                    [
                                    -122.26055129252984,
                                    37.87128052603856
                                    ],
                                    [
                                    -122.26125600660686,
                                    37.87110502822659
                                    ],
                                    [
                                    -122.2610712472626,
                                    37.8706162521584
                                    ],
                                    [
                                    -122.26093147617559,
                                    37.87065435070493
                                    ],
                                    [
                                    -122.26093382245281,
                                    37.87065805472925
                                    ],
                                    [
                                    -122.26079036435871,
                                    37.87069192008571
                                    ],
                                    [
                                    -122.26068944540152,
                                    37.87034309066193
                                    ],
                                    [
                                    -122.26074206904823,
                                    37.87033409513556
                                    ],
                                    [
                                    -122.2607359930531,
                                    37.870292037886664
                                    ],
                                    [
                                    -122.2607839241453,
                                    37.87028568809905
                                    ],
                                    [
                                    -122.2607557688184,
                                    37.87015022583291
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "anthro/art",
                                "name": "Anthro/Art Practice Bldg",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.869862771510206,
                                -122.25526772204529
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.2554155969784,
                                    37.86941573212268
                                    ],
                                    [
                                    -122.2550847112998,
                                    37.86945730476228
                                    ],
                                    [
                                    -122.25506325962219,
                                    37.86935359032105
                                    ],
                                    [
                                    -122.25501097115794,
                                    37.86935941103333
                                    ],
                                    [
                                    -122.25507666692069,
                                    37.86967743288849
                                    ],
                                    [
                                    -122.25500560823856,
                                    37.86968589934175
                                    ],
                                    [
                                    -122.25507965273452,
                                    37.87004144968745
                                    ],
                                    [
                                    -122.2551406559428,
                                    37.87003457072743
                                    ],
                                    [
                                    -122.25514735959206,
                                    37.87006420316595
                                    ],
                                    [
                                    -122.25511987463008,
                                    37.87006790721991
                                    ],
                                    [
                                    -122.25515205214653,
                                    37.870224006468234
                                    ],
                                    [
                                    -122.25589359807958,
                                    37.87012976628741
                                    ],
                                    [
                                    -122.25586075019821,
                                    37.86997049193199
                                    ],
                                    [
                                    -122.25543305737558,
                                    37.87002499449103
                                    ],
                                    [
                                    -122.25535392340521,
                                    37.869640093602236
                                    ],
                                    [
                                    -122.25533649391714,
                                    37.86964168106311
                                    ],
                                    [
                                    -122.25533180136269,
                                    37.86961892745412
                                    ],
                                    [
                                    -122.25545313741425,
                                    37.869603052839004
                                    ],
                                    [
                                    -122.2554155969784,
                                    37.86941573212268
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "barker",
                                "name": "Barker",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87397932872584,
                                -122.2655023603777
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.26569384218125,
                                    37.87381200354171
                                    ],
                                    [
                                    -122.26523926896265,
                                    37.87384376500107
                                    ],
                                    [
                                    -122.26526756794959,
                                    37.87411551800984
                                    ],
                                    [
                                    -122.26572044582065,
                                    37.87408372194853
                                    ],
                                    [
                                    -122.26569384218125,
                                    37.87381200354171
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "morrison",
                                "name": "Morrison",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87087632474316,
                                -122.25647924182063
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25679762596671,
                                    37.87070675288126
                                    ],
                                    [
                                    -122.25610486278333,
                                    37.87078625235311
                                    ],
                                    [
                                    -122.2561477780339,
                                    37.87102221593056
                                    ],
                                    [
                                    -122.2567807447994,
                                    37.87094811178812
                                    ],
                                    [
                                    -122.25677572394679,
                                    37.87091685223105
                                    ],
                                    [
                                    -122.25683516640257,
                                    37.87090994465229
                                    ],
                                    [
                                    -122.25679762596671,
                                    37.87070675288126
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "giannini",
                                "name": "Giannini",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87355673831183,
                                -122.26235603036797
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.26235837072133,
                                    37.873139524442074
                                    ],
                                    [
                                    -122.26221219473224,
                                    37.873174617322626
                                    ],
                                    [
                                    -122.26208095979248,
                                    37.87336724154399
                                    ],
                                    [
                                    -122.26237318768639,
                                    37.873813845301434
                                    ],
                                    [
                                    -122.26260534547035,
                                    37.87386889229349
                                    ],
                                    [
                                    -122.26275266692038,
                                    37.873833962170515
                                    ],
                                    [
                                    -122.26268843700211,
                                    37.87365955976997
                                    ],
                                    [
                                    -122.26259441832127,
                                    37.873681650725345
                                    ],
                                    [
                                    -122.26254615204661,
                                    37.87366881945265
                                    ],
                                    [
                                    -122.26233979661536,
                                    37.873360899861275
                                    ],
                                    [
                                    -122.26236629054782,
                                    37.87332608955275
                                    ],
                                    [
                                    -122.26242394193142,
                                    37.873312199963664
                                    ],
                                    [
                                    -122.26235837072133,
                                    37.873139524442074
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "genetics",
                                "name": "Genetics & Plant Bio",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.873449218704316,
                                -122.26477153486242
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.26501910019358,
                                    37.873296315784465
                                    ],
                                    [
                                    -122.26446399963837,
                                    37.87332704462933
                                    ],
                                    [
                                    -122.2644732724621,
                                    37.87344756932677
                                    ],
                                    [
                                    -122.26457670493942,
                                    37.87344336032487
                                    ],
                                    [
                                    -122.26458748776984,
                                    37.873576709886066
                                    ],
                                    [
                                    -122.2649440439087,
                                    37.873555669870385
                                    ],
                                    [
                                    -122.26492680360138,
                                    37.8734127609062
                                    ],
                                    [
                                    -122.26503372680706,
                                    37.87340733735904
                                    ],
                                    [
                                    -122.26501910019358,
                                    37.873296315784465
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "hearstFieldAnnex",
                                "name": "Hearst Field Annex",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.8691345567606,
                                -122.2577577084303
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25793439866816,
                                    37.86899732563457
                                    ],
                                    [
                                    -122.25749959563841,
                                    37.86909977361694
                                    ],
                                    [
                                    -122.2575531176354,
                                    37.86925107667277
                                    ],
                                    [
                                    -122.25798773122251,
                                    37.869149292115125
                                    ],
                                    [
                                    -122.25793439866816,
                                    37.86899732563457
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "2251College",
                                "name": "2251 College",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87020833916068,
                                -122.25387654165033
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.2539728182893,
                                    37.87007823732204
                                    ],
                                    [
                                    -122.25379562583973,
                                    37.87008864160864
                                    ],
                                    [
                                    -122.25379780452572,
                                    37.87011179193526
                                    ],
                                    [
                                    -122.25369909329042,
                                    37.87011748030011
                                    ],
                                    [
                                    -122.25371652188866,
                                    37.870303115386136
                                    ],
                                    [
                                    -122.25380858890453,
                                    37.87029837021994
                                    ],
                                    [
                                    -122.25381194072915,
                                    37.87032006532165
                                    ],
                                    [
                                    -122.25399528553633,
                                    37.87030868862279
                                    ],
                                    [
                                    -122.2539728182893,
                                    37.87007823732204
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "cheit",
                                "name": "Cheit",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87180169114523,
                                -122.25433125687049
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25437918428838,
                                    37.87160768552142
                                    ],
                                    [
                                    -122.2541739540866,
                                    37.87162275955548
                                    ],
                                    [
                                    -122.25411563233808,
                                    37.87158095753194
                                    ],
                                    [
                                    -122.25404021628391,
                                    37.871640221153186
                                    ],
                                    [
                                    -122.25410428643187,
                                    37.87168524511042
                                    ],
                                    [
                                    -122.25411031971622,
                                    37.87171487688505
                                    ],
                                    [
                                    -122.2541645608615,
                                    37.87175174116498
                                    ],
                                    [
                                    -122.25420578830445,
                                    37.87174988918035
                                    ],
                                    [
                                    -122.25421383268355,
                                    37.87184830887091
                                    ],
                                    [
                                    -122.25417930888986,
                                    37.87185042542196
                                    ],
                                    [
                                    -122.25419003472868,
                                    37.87197186243615
                                    ],
                                    [
                                    -122.25420210129735,
                                    37.87197133329927
                                    ],
                                    [
                                    -122.25420880494661,
                                    37.87204117933488
                                    ],
                                    [
                                    -122.2542386361858,
                                    37.87206260935529
                                    ],
                                    [
                                    -122.25428924873769,
                                    37.87206075737845
                                    ],
                                    [
                                    -122.25431706888212,
                                    37.87203112574295
                                    ],
                                    [
                                    -122.25431338187502,
                                    37.871996202728624
                                    ],
                                    [
                                    -122.25428120435858,
                                    37.87197609553105
                                    ],
                                    [
                                    -122.2542801988112,
                                    37.87196260254014
                                    ],
                                    [
                                    -122.25441795880344,
                                    37.87195334264299
                                    ],
                                    [
                                    -122.25437918428838,
                                    37.87160768552142
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "campbell",
                                "name": "Campbell Hall",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.872980229106794,
                                -122.25711878452927
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.257240794505,
                                    37.872825692104
                                    ],
                                    [
                                    -122.25719252823036,
                                    37.87283786211022
                                    ],
                                    [
                                    -122.2571730876475,
                                    37.872787594680304
                                    ],
                                    [
                                    -122.25686606051148,
                                    37.87286167298611
                                    ],
                                    [
                                    -122.25698940765783,
                                    37.873174388441875
                                    ],
                                    [
                                    -122.25729978661847,
                                    37.87309925219295
                                    ],
                                    [
                                    -122.2572669387371,
                                    37.87301353328016
                                    ],
                                    [
                                    -122.2573085013625,
                                    37.8730034798209
                                    ],
                                    [
                                    -122.257240794505,
                                    37.872825692104
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "davis",
                                "name": "Davis",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87452750614378,
                                -122.25831115756597
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.2585691469053,
                                    37.8743045141413
                                    ],
                                    [
                                    -122.25788524786,
                                    37.874458083507704
                                    ],
                                    [
                                    -122.25798329778944,
                                    37.87472746843627
                                    ],
                                    [
                                    -122.2580602951348,
                                    37.87471077926682
                                    ],
                                    [
                                    -122.25866975147339,
                                    37.87457614079342
                                    ],
                                    [
                                    -122.2585691469053,
                                    37.8743045141413
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "donner",
                                "name": "Donner Lab",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.874440050713346,
                                -122.25650253820372
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25659875299203,
                                    37.87429368743065
                                    ],
                                    [
                                    -122.25605667387512,
                                    37.87442951844801
                                    ],
                                    [
                                    -122.25611197898151,
                                    37.87455491959851
                                    ],
                                    [
                                    -122.25638280641151,
                                    37.874488779777806
                                    ],
                                    [
                                    -122.25640794509623,
                                    37.87456999946932
                                    ],
                                    [
                                    -122.25630335252592,
                                    37.874638543392834
                                    ],
                                    [
                                    -122.25658668632971,
                                    37.8748719097002
                                    ],
                                    [
                                    -122.25675796456827,
                                    37.874719524119755
                                    ],
                                    [
                                    -122.25654512379799,
                                    37.87457041677784
                                    ],
                                    [
                                    -122.25654210715582,
                                    37.874545019099074
                                    ],
                                    [
                                    -122.25663863970513,
                                    37.87443972446235
                                    ],
                                    [
                                    -122.25659875299203,
                                    37.87429368743065
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "birge",
                                "name": "Birge",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.8722280468274,
                                -122.25727236633603
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25741007663501,
                                    37.872035914930485
                                    ],
                                    [
                                    -122.2569715394886,
                                    37.872133286700894
                                    ],
                                    [
                                    -122.25706561383565,
                                    37.872395538987654
                                    ],
                                    [
                                    -122.25750361942372,
                                    37.872297914926286
                                    ],
                                    [
                                    -122.25741007663501,
                                    37.872035914930485
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "gspp",
                                "name": "GSPP",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87578714278629,
                                -122.25789919495584
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25790998448616,
                                    37.87555130887552
                                    ],
                                    [
                                    -122.25785498159252,
                                    37.87555880789402
                                    ],
                                    [
                                    -122.25785732786974,
                                    37.87557864955825
                                    ],
                                    [
                                    -122.25780135239846,
                                    37.87558764444429
                                    ],
                                    [
                                    -122.25782783181305,
                                    37.87569082099957
                                    ],
                                    [
                                    -122.25775342130629,
                                    37.87570404875263
                                    ],
                                    [
                                    -122.25776615823986,
                                    37.87576172172815
                                    ],
                                    [
                                    -122.25772493079694,
                                    37.875769129263034
                                    ],
                                    [
                                    -122.2577504588019,
                                    37.87586307098381
                                    ],
                                    [
                                    -122.2578144786523,
                                    37.87585407613141
                                    ],
                                    [
                                    -122.25782017675418,
                                    37.8758794733589
                                    ],
                                    [
                                    -122.2580346935304,
                                    37.875847462268666
                                    ],
                                    [
                                    -122.25800921535469,
                                    37.87573683033104
                                    ],
                                    [
                                    -122.25795592134308,
                                    37.87574344420374
                                    ],
                                    [
                                    -122.25790998448616,
                                    37.87555130887552
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "blum",
                                "name": "Blum",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.874891532816456,
                                -122.25916776325226
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25918397307396,
                                    37.87476292599245
                                    ],
                                    [
                                    -122.25904449820521,
                                    37.874780132180554
                                    ],
                                    [
                                    -122.2590907663107,
                                    37.875015657711145
                                    ],
                                    [
                                    -122.25922990590335,
                                    37.87499899058618
                                    ],
                                    [
                                    -122.25918397307396,
                                    37.87476292599245
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "bancroft",
                                "name": "Bancroft Library",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.8722717867912,
                                -122.25889295339587
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25903661921623,
                                    37.87194126266771
                                    ],
                                    [
                                    -122.25891457870605,
                                    37.87196985650565
                                    ],
                                    [
                                    -122.25892128422858,
                                    37.87198573061079
                                    ],
                                    [
                                    -122.25855499505998,
                                    37.87207134475544
                                    ],
                                    [
                                    -122.25873487070204,
                                    37.87254891484033
                                    ],
                                    [
                                    -122.25910903885962,
                                    37.87246116507063
                                    ],
                                    [
                                    -122.25909277796748,
                                    37.872415527303644
                                    ],
                                    [
                                    -122.25910887122154,
                                    37.872411294233956
                                    ],
                                    [
                                    -122.25911708548666,
                                    37.87243431154738
                                    ],
                                    [
                                    -122.25918414071202,
                                    37.87241883438914
                                    ],
                                    [
                                    -122.25918011739851,
                                    37.87240495218899
                                    ],
                                    [
                                    -122.25920811295511,
                                    37.872398602583466
                                    ],
                                    [
                                    -122.25919067859651,
                                    37.872351883549484
                                    ],
                                    [
                                    -122.25915346294643,
                                    37.872360481978944
                                    ],
                                    [
                                    -122.25910786539316,
                                    37.87223754237088
                                    ],
                                    [
                                    -122.25914373993875,
                                    37.872229208494566
                                    ],
                                    [
                                    -122.2591169178486,
                                    37.87215611577057
                                    ],
                                    [
                                    -122.25908221676947,
                                    37.872163523668036
                                    ],
                                    [
                                    -122.25903963670136,
                                    37.8720483043219
                                    ],
                                    [
                                    -122.2590724937618,
                                    37.872040764128805
                                    ],
                                    [
                                    -122.25903661921623,
                                    37.87194126266771
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "berkeleyWayWest",
                                "name": "Berkeley Way West",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87354872344869,
                                -122.26797223091127
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.26830348372462,
                                    37.87319272670953
                                    ],
                                    [
                                    -122.26815093308689,
                                    37.87321206181613
                                    ],
                                    [
                                    -122.26815462112428,
                                    37.87323190411245
                                    ],
                                    [
                                    -122.26809460669757,
                                    37.87324010559337
                                    ],
                                    [
                                    -122.26809326559308,
                                    37.87322793565362
                                    ],
                                    [
                                    -122.26753402501346,
                                    37.873298599855204
                                    ],
                                    [
                                    -122.26756829593482,
                                    37.87346561893665
                                    ],
                                    [
                                    -122.26747777138057,
                                    37.87347778883714
                                    ],
                                    [
                                    -122.26756218820813,
                                    37.87388929951517
                                    ],
                                    [
                                    -122.26840004324916,
                                    37.873782146501135
                                    ],
                                    [
                                    -122.26836819201709,
                                    37.873624914969824
                                    ],
                                    [
                                    -122.26839099079373,
                                    37.87362121109469
                                    ],
                                    [
                                    -122.26830348372462,
                                    37.87319272670953
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "chavez",
                                "name": "Chavez",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.86975976272608,
                                -122.26019382476808
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.26061359047891,
                                    37.869517129683516
                                    ],
                                    [
                                    -122.26046171039346,
                                    37.8695408998178
                                    ],
                                    [
                                    -122.26045701652767,
                                    37.86951285463246
                                    ],
                                    [
                                    -122.26041544228794,
                                    37.86951603114636
                                    ],
                                    [
                                    -122.26036850363016,
                                    37.86952264557754
                                    ],
                                    [
                                    -122.26038958355309,
                                    37.869618498475056
                                    ],
                                    [
                                    -122.26030811145428,
                                    37.86962881697309
                                    ],
                                    [
                                    -122.2602983884466,
                                    37.86958595551025
                                    ],
                                    [
                                    -122.25992172695459,
                                    37.86963552516893
                                    ],
                                    [
                                    -122.25992424152555,
                                    37.869651399777055
                                    ],
                                    [
                                    -122.25988803170385,
                                    37.86965642673555
                                    ],
                                    [
                                    -122.25989205501737,
                                    37.86967124303232
                                    ],
                                    [
                                    -122.25983204059067,
                                    37.86967984177465
                                    ],
                                    [
                                    -122.25982902310552,
                                    37.86967150760903
                                    ],
                                    [
                                    -122.25965084508063,
                                    37.869694791276096
                                    ],
                                    [
                                    -122.25965453311802,
                                    37.869711591889384
                                    ],
                                    [
                                    -122.25963877514005,
                                    37.869712650195595
                                    ],
                                    [
                                    -122.25965805351737,
                                    37.869811146203304
                                    ],
                                    [
                                    -122.25962653756143,
                                    37.869814321117616
                                    ],
                                    [
                                    -122.25966710597278,
                                    37.86998553848684
                                    ],
                                    [
                                    -122.25978445261718,
                                    37.86993312879733
                                    ],
                                    [
                                    -122.25977204740047,
                                    37.86986963058725
                                    ],
                                    [
                                    -122.25985050201417,
                                    37.86985904754691
                                    ],
                                    [
                                    -122.25985620170835,
                                    37.869890532087446
                                    ],
                                    [
                                    -122.25994337350133,
                                    37.86987783244246
                                    ],
                                    [
                                    -122.25993800908329,
                                    37.86984740620079
                                    ],
                                    [
                                    -122.26001411676408,
                                    37.86983550027669
                                    ],
                                    [
                                    -122.26003456860784,
                                    37.86993154134274
                                    ],
                                    [
                                    -122.26011469960214,
                                    37.86992228119033
                                    ],
                                    [
                                    -122.26010967046025,
                                    37.86989370699835
                                    ],
                                    [
                                    -122.26018846035005,
                                    37.86988444684115
                                    ],
                                    [
                                    -122.26019550114871,
                                    37.86991275646088
                                    ],
                                    [
                                    -122.26028166711332,
                                    37.86990110634963
                                    ],
                                    [
                                    -122.26027697324756,
                                    37.86987279672545
                                    ],
                                    [
                                    -122.26035442203286,
                                    37.86986141995751
                                    ],
                                    [
                                    -122.26036179810764,
                                    37.86989131704157
                                    ],
                                    [
                                    -122.26044796407224,
                                    37.86988125792942
                                    ],
                                    [
                                    -122.26044092327358,
                                    37.869847656776415
                                    ],
                                    [
                                    -122.26051770150663,
                                    37.8698365445807
                                    ],
                                    [
                                    -122.26052574813367,
                                    37.86987120404272
                                    ],
                                    [
                                    -122.26060822606088,
                                    37.86986113998102
                                    ],
                                    [
                                    -122.26061526685956,
                                    37.86989050791337
                                    ],
                                    [
                                    -122.26069640368226,
                                    37.869880189451976
                                    ],
                                    [
                                    -122.26061359047891,
                                    37.869517129683516
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "chou",
                                "name": "Chou Hall",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.8723598784526,
                                -122.25440975759508
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25442707538606,
                                    37.87219972596395
                                    ],
                                    [
                                    -122.25434057414533,
                                    37.87225054747651
                                    ],
                                    [
                                    -122.25405357778074,
                                    37.87227174030859
                                    ],
                                    [
                                    -122.2540743649006,
                                    37.87245565219655
                                    ],
                                    [
                                    -122.25437510758641,
                                    37.872433727970154
                                    ],
                                    [
                                    -122.2544998303056,
                                    37.872565746675946
                                    ],
                                    [
                                    -122.25451726466419,
                                    37.87255648685459
                                    ],
                                    [
                                    -122.25453704595567,
                                    37.8725763293275
                                    ],
                                    [
                                    -122.25466277450326,
                                    37.87250248478145
                                    ],
                                    [
                                    -122.25463796406986,
                                    37.8724768218231
                                    ],
                                    [
                                    -122.25467115640642,
                                    37.872456714756694
                                    ],
                                    [
                                    -122.25442707538606,
                                    37.87219972596395
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "doe",
                                "name": "Doe Library",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87219244456911,
                                -122.25952595472339
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25970298051837,
                                    37.87175703020228
                                    ],
                                    [
                                    -122.25902639329435,
                                    37.871914240706666
                                    ],
                                    [
                                    -122.25903661921623,
                                    37.87194126266771
                                    ],
                                    [
                                    -122.2590724937618,
                                    37.872040764128805
                                    ],
                                    [
                                    -122.2591169178486,
                                    37.87215611577057
                                    ],
                                    [
                                    -122.25914373993875,
                                    37.872229208494566
                                    ],
                                    [
                                    -122.25919067859651,
                                    37.872351883549484
                                    ],
                                    [
                                    -122.25920811295511,
                                    37.872398602583466
                                    ],
                                    [
                                    -122.25922087173068,
                                    37.87243407252224
                                    ],
                                    [
                                    -122.2591826502522,
                                    37.87244359692569
                                    ],
                                    [
                                    -122.25925104658208,
                                    37.87261873990354
                                    ],
                                    [
                                    -122.26000070571901,
                                    37.87244355940695
                                    ],
                                    [
                                    -122.25993432104589,
                                    37.87226466390937
                                    ],
                                    [
                                    -122.25989811122419,
                                    37.87227313006532
                                    ],
                                    [
                                    -122.25970298051837,
                                    37.87175703020228
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "gilman",
                                "name": "Gilman",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.8726399214309,
                                -122.25634046710017
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25634216980768,
                                    37.872384985133095
                                    ],
                                    [
                                    -122.25613966584207,
                                    37.872427345793916
                                    ],
                                    [
                                    -122.25630898028614,
                                    37.872897106147235
                                    ],
                                    [
                                    -122.25650846958162,
                                    37.872852824080255
                                    ],
                                    [
                                    -122.25634216980768,
                                    37.872384985133095
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "gtu",
                                "name": "Graduate Theological Union",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87554798118106,
                                -122.26191166307451
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.26208612322807,
                                    37.87531974967071
                                    ],
                                    [
                                    -122.26158589124681,
                                    37.875381219129956
                                    ],
                                    [
                                    -122.26166166365148,
                                    37.875767568159574
                                    ],
                                    [
                                    -122.26216323673725,
                                    37.875706001027424
                                    ],
                                    [
                                    -122.26208612322807,
                                    37.87531974967071
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "haasFaculty",
                                "name": "Haas Faculty Wing",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.871904427151605,
                                -122.25383162498476
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25395131856205,
                                    37.871784223052416
                                    ],
                                    [
                                    -122.25388392806053,
                                    37.87173377357196
                                    ],
                                    [
                                    -122.25378770381214,
                                    37.87173800668058
                                    ],
                                    [
                                    -122.2537191398442,
                                    37.87178564896905
                                    ],
                                    [
                                    -122.2535164654255,
                                    37.87180258414343
                                    ],
                                    [
                                    -122.25348427891733,
                                    37.87177912838538
                                    ],
                                    [
                                    -122.25347639992835,
                                    37.87166496671629
                                    ],
                                    [
                                    -122.25306048989299,
                                    37.87168507717212
                                    ],
                                    [
                                    -122.25307255983356,
                                    37.87178326654034
                                    ],
                                    [
                                    -122.25314095616342,
                                    37.87178154287438
                                    ],
                                    [
                                    -122.25314782932404,
                                    37.87182353400215
                                    ],
                                    [
                                    -122.25328445434572,
                                    37.871815332363546
                                    ],
                                    [
                                    -122.25330322980884,
                                    37.87197594325968
                                    ],
                                    [
                                    -122.25337045267226,
                                    37.87197211107743
                                    ],
                                    [
                                    -122.25337313488126,
                                    37.871994070254615
                                    ],
                                    [
                                    -122.25352970883252,
                                    37.871984678077226
                                    ],
                                    [
                                    -122.25352736189963,
                                    37.87196364488686
                                    ],
                                    [
                                    -122.25363330915572,
                                    37.871953988137115
                                    ],
                                    [
                                    -122.25369617342949,
                                    37.871998435632456
                                    ],
                                    [
                                    -122.25372316315772,
                                    37.872241778297195
                                    ],
                                    [
                                    -122.25381821393968,
                                    37.872237677501275
                                    ],
                                    [
                                    -122.25381838157773,
                                    37.87221320500477
                                    ],
                                    [
                                    -122.25390672683717,
                                    37.872210162477614
                                    ],
                                    [
                                    -122.25390806794168,
                                    37.87222683023356
                                    ],
                                    [
                                    -122.25403530523184,
                                    37.87221968845005
                                    ],
                                    [
                                    -122.25408241152763,
                                    37.87217958830193
                                    ],
                                    [
                                    -122.25407570600511,
                                    37.87207990219758
                                    ],
                                    [
                                    -122.25403144955636,
                                    37.872049056259655
                                    ],
                                    [
                                    -122.25400898605587,
                                    37.872049056259655
                                    ],
                                    [
                                    -122.25400462746622,
                                    37.87200275681656
                                    ],
                                    [
                                    -122.25397646427156,
                                    37.87198212048398
                                    ],
                                    [
                                    -122.25395131856205,
                                    37.871784223052416
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "hargrove",
                                "name": "Hargrove",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87045376691379,
                                -122.25616307688713
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25625701248649,
                                    37.87028334323616
                                    ],
                                    [
                                    -122.25593715906146,
                                    37.87033629601218
                                    ],
                                    [
                                    -122.25602701306346,
                                    37.87061670635675
                                    ],
                                    [
                                    -122.25634083151817,
                                    37.87057490376244
                                    ],
                                    [
                                    -122.25625701248649,
                                    37.87028334323616
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "stanley",
                                "name": "Stanley",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87401740537377,
                                -122.25615173578264
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25639313459399,
                                    37.87362809074644
                                    ],
                                    [
                                    -122.25612625479701,
                                    37.87368925384256
                                    ],
                                    [
                                    -122.2561537474394,
                                    37.87376412492772
                                    ],
                                    [
                                    -122.2560514882207,
                                    37.87378846462808
                                    ],
                                    [
                                    -122.25602198392154,
                                    37.87371253531886
                                    ],
                                    [
                                    -122.25574269890787,
                                    37.873781609537424
                                    ],
                                    [
                                    -122.25574772804977,
                                    37.873795102195196
                                    ],
                                    [
                                    -122.25568804889919,
                                    37.873811787512146
                                    ],
                                    [
                                    -122.2557095065713,
                                    37.873873959516615
                                    ],
                                    [
                                    -122.2556434571743,
                                    37.87389117561878
                                    ],
                                    [
                                    -122.2556434571743,
                                    37.873925568611995
                                    ],
                                    [
                                    -122.25565653294326,
                                    37.87399756773661
                                    ],
                                    [
                                    -122.25568637251854,
                                    37.874046776096996
                                    ],
                                    [
                                    -122.255721911788,
                                    37.87409095776891
                                    ],
                                    [
                                    -122.2558003753927,
                                    37.87417409514993
                                    ],
                                    [
                                    -122.2559240832925,
                                    37.87437173009955
                                    ],
                                    [
                                    -122.25649002939466,
                                    37.87424254788878
                                    ],
                                    [
                                    -122.25644946098329,
                                    37.87413301984899
                                    ],
                                    [
                                    -122.25656881928445,
                                    37.87410524097244
                                    ],
                                    [
                                    -122.25639313459399,
                                    37.87362809074644
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "haviland",
                                "name": "Haviland",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87373458180212,
                                -122.26110675251962
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.26111315190794,
                                    37.87347830958417
                                    ],
                                    [
                                    -122.26087376475337,
                                    37.87353554253497
                                    ],
                                    [
                                    -122.26105347275735,
                                    37.87399333111793
                                    ],
                                    [
                                    -122.26129084825517,
                                    37.87393565675792
                                    ],
                                    [
                                    -122.26111315190794,
                                    37.87347830958417
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "hearstGym",
                                "name": "Hearst Gym",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.86955836296792,
                                -122.25691348314288
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.2573282197118,
                                    37.869163223744096
                                    ],
                                    [
                                    -122.25714180618526,
                                    37.86920662506334
                                    ],
                                    [
                                    -122.25712805986406,
                                    37.86917302360266
                                    ],
                                    [
                                    -122.25686285644771,
                                    37.869235508901816
                                    ],
                                    [
                                    -122.25687861442567,
                                    37.86927863514662
                                    ],
                                    [
                                    -122.25671265274289,
                                    37.86931779269675
                                    ],
                                    [
                                    -122.25669521838428,
                                    37.869274390696276
                                    ],
                                    [
                                    -122.25642532110217,
                                    37.86933689737697
                                    ],
                                    [
                                    -122.25644107908012,
                                    37.86937922982919
                                    ],
                                    [
                                    -122.25624326616528,
                                    37.86942711838644
                                    ],
                                    [
                                    -122.2563334554434,
                                    37.86966293242092
                                    ],
                                    [
                                    -122.2563797235489,
                                    37.86965261392767
                                    ],
                                    [
                                    -122.25647225975992,
                                    37.86989477687565
                                    ],
                                    [
                                    -122.25638676434757,
                                    37.86991488464121
                                    ],
                                    [
                                    -122.2564256563783,
                                    37.87001995029049
                                    ],
                                    [
                                    -122.25669991225006,
                                    37.869954562604306
                                    ],
                                    [
                                    -122.25667141377926,
                                    37.869875983584144
                                    ],
                                    [
                                    -122.25678876042367,
                                    37.86984841858361
                                    ],
                                    [
                                    -122.25678239017726,
                                    37.869828310799875
                                    ],
                                    [
                                    -122.2571709752083,
                                    37.86973650282288
                                    ],
                                    [
                                    -122.25717935711147,
                                    37.869757139784454
                                    ],
                                    [
                                    -122.25727558135988,
                                    37.86973438621112
                                    ],
                                    [
                                    -122.25730676203968,
                                    37.869814568053236
                                    ],
                                    [
                                    -122.25759610533717,
                                    37.869745755438394
                                    ],
                                    [
                                    -122.25755184888843,
                                    37.86963009969805
                                    ],
                                    [
                                    -122.25745696574451,
                                    37.86965338245711
                                    ],
                                    [
                                    -122.257365770638,
                                    37.86941536664794
                                    ],
                                    [
                                    -122.2574194148183,
                                    37.86940266692106
                                    ],
                                    [
                                    -122.2573282197118,
                                    37.869163223744096
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "hearstMining",
                                "name": "Hearst Mining",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87446182485962,
                                -122.25729435682298
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25746216252448,
                                    37.8740902677609
                                    ],
                                    [
                                    -122.25732386112215,
                                    37.874123120195634
                                    ],
                                    [
                                    -122.25732117891314,
                                    37.87411571249524
                                    ],
                                    [
                                    -122.25701825693251,
                                    37.87418451379547
                                    ],
                                    [
                                    -122.25702093914154,
                                    37.87419602217606
                                    ],
                                    [
                                    -122.25687190890312,
                                    37.87422792522311
                                    ],
                                    [
                                    -122.25705295801164,
                                    37.87473604778245
                                    ],
                                    [
                                    -122.25712403655055,
                                    37.87472136478349
                                    ],
                                    [
                                    -122.25716192275287,
                                    37.874818614444926
                                    ],
                                    [
                                    -122.25759577006103,
                                    37.87471606507227
                                    ],
                                    [
                                    -122.25756123661996,
                                    37.874624263185936
                                    ],
                                    [
                                    -122.2576577961445,
                                    37.874601580723954
                                    ],
                                    [
                                    -122.25746216252448,
                                    37.8740902677609
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "hertz",
                                "name": "Hertz",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.8710953139329,
                                -122.25575392344479
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25591100752355,
                                    37.87088312049365
                                    ],
                                    [
                                    -122.25579785183072,
                                    37.870895318945095
                                    ],
                                    [
                                    -122.25578578189017,
                                    37.87084874034423
                                    ],
                                    [
                                    -122.25547179579738,
                                    37.8708868428773
                                    ],
                                    [
                                    -122.25548923015596,
                                    37.87098017349472
                                    ],
                                    [
                                    -122.2554785013199,
                                    37.870981231782714
                                    ],
                                    [
                                    -122.25554823875429,
                                    37.871340979505796
                                    ],
                                    [
                                    -122.25589558482173,
                                    37.871297035555244
                                    ],
                                    [
                                    -122.2558929026127,
                                    37.87128063215986
                                    ],
                                    [
                                    -122.2560538351536,
                                    37.87126105390899
                                    ],
                                    [
                                    -122.25602835416795,
                                    37.871122903853966
                                    ],
                                    [
                                    -122.25595459342003,
                                    37.87113031185532
                                    ],
                                    [
                                    -122.25591100752355,
                                    37.87088312049365
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "hesse",
                                "name": "Hesse",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87431879459684,
                                -122.25940525531769
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25952226668598,
                                    37.87412855572977
                                    ],
                                    [
                                    -122.25912764668466,
                                    37.87422146472726
                                    ],
                                    [
                                    -122.25923124700788,
                                    37.874495885735804
                                    ],
                                    [
                                    -122.25962519645692,
                                    37.87440369833904
                                    ],
                                    [
                                    -122.25952226668598,
                                    37.87412855572977
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "hildebrand",
                                "name": "Hildebrand",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87260501027844,
                                -122.25575135780333
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25582852959636,
                                    37.87235165444899
                                    ],
                                    [
                                    -122.25546039640905,
                                    37.87243714960498
                                    ],
                                    [
                                    -122.25561395287515,
                                    37.87284205436909
                                    ],
                                    [
                                    -122.25598242133859,
                                    37.87275438622507
                                    ],
                                    [
                                    -122.25582852959636,
                                    37.87235165444899
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "jacobs",
                                "name": "Jacobs Hall",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87604679810544,
                                -122.2588158398867
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25900292396547,
                                    37.87592599460189
                                    ],
                                    [
                                    -122.25858198478821,
                                    37.87598095295631
                                    ],
                                    [
                                    -122.25859656929971,
                                    37.87612372848813
                                    ],
                                    [
                                    -122.2586113214493,
                                    37.87612174433665
                                    ],
                                    [
                                    -122.25861417129639,
                                    37.876138675761084
                                    ],
                                    [
                                    -122.25868910551073,
                                    37.876129284112054
                                    ],
                                    [
                                    -122.25869044661525,
                                    37.87613748527041
                                    ],
                                    [
                                    -122.25896000862123,
                                    37.87610267706721
                                    ],
                                    [
                                    -122.25895883515479,
                                    37.87609328541362
                                    ],
                                    [
                                    -122.25903511047365,
                                    37.876083629205155
                                    ],
                                    [
                                    -122.25903259590268,
                                    37.87606683004493
                                    ],
                                    [
                                    -122.25904567167166,
                                    37.87606550727626
                                    ],
                                    [
                                    -122.25900292396547,
                                    37.87592599460189
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "joan",
                                "name": "Joan and Sanford I. Weill",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87141708342871,
                                -122.26329775286678
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.26332681253554,
                                    37.871053195330944
                                    ],
                                    [
                                    -122.26317794993523,
                                    37.870989411907175
                                    ],
                                    [
                                    -122.26294074207546,
                                    37.87104579665533
                                    ],
                                    [
                                    -122.26320746903981,
                                    37.871763432485984
                                    ],
                                    [
                                    -122.26335497573021,
                                    37.87182586803599
                                    ],
                                    [
                                    -122.26359218358995,
                                    37.87177199803853
                                    ],
                                    [
                                    -122.26332681253554,
                                    37.871053195330944
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "latimer",
                                "name": "Latimer",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87312874744139,
                                -122.25596057010652
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25618459284307,
                                    37.87290139472178
                                    ],
                                    [
                                    -122.25554756820203,
                                    37.87304481985396
                                    ],
                                    [
                                    -122.25565083324912,
                                    37.873332238727095
                                    ],
                                    [
                                    -122.25628919899466,
                                    37.87319029924697
                                    ],
                                    [
                                    -122.25618459284307,
                                    37.87290139472178
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "lewis",
                                "name": "Lewis",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.8730485469045,
                                -122.25522235035898
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25510600954297,
                                    37.87269969410542
                                    ],
                                    [
                                    -122.25487634539607,
                                    37.87275206388724
                                    ],
                                    [
                                    -122.25494759157301,
                                    37.87294803785475
                                    ],
                                    [
                                    -122.25495144724849,
                                    37.87294817013722
                                    ],
                                    [
                                    -122.25496469065548,
                                    37.87298324164249
                                    ],
                                    [
                                    -122.25495681166649,
                                    37.87298826837367
                                    ],
                                    [
                                    -122.25528974086048,
                                    37.873311227511664
                                    ],
                                    [
                                    -122.25551303476097,
                                    37.87316545280705
                                    ],
                                    [
                                    -122.2551915049553,
                                    37.872845734296966
                                    ],
                                    [
                                    -122.25515428930521,
                                    37.87285181929866
                                    ],
                                    [
                                    -122.25510600954297,
                                    37.87269969410542
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "liKaShing",
                                "name": "Li Ka Shing",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87296702849104,
                                -122.26539328694345
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.26529572159053,
                                    37.872572387993195
                                    ],
                                    [
                                    -122.26509170605291,
                                    37.872540330452665
                                    ],
                                    [
                                    -122.26503789424898,
                                    37.87263162659706
                                    ],
                                    [
                                    -122.26505398750307,
                                    37.87274609842026
                                    ],
                                    [
                                    -122.26503655314448,
                                    37.87274702440003
                                    ],
                                    [
                                    -122.26513174989076,
                                    37.873447465750814
                                    ],
                                    [
                                    -122.26546034216881,
                                    37.873425595396746
                                    ],
                                    [
                                    -122.26542312651874,
                                    37.87309095154704
                                    ],
                                    [
                                    -122.2658222727524,
                                    37.873073032135004
                                    ],
                                    [
                                    -122.26579310372472,
                                    37.872856174825735
                                    ],
                                    [
                                    -122.26570727303626,
                                    37.87286093700034
                                    ],
                                    [
                                    -122.26569386199118,
                                    37.872799822402825
                                    ],
                                    [
                                    -122.26534651592377,
                                    37.87281328738064
                                    ],
                                    [
                                    -122.26533729583026,
                                    37.87272186779186
                                    ],
                                    [
                                    -122.26531349122526,
                                    37.87272371975208
                                    ],
                                    [
                                    -122.26529572159053,
                                    37.872572387993195
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "mcCone",
                                "name": "McCone",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.8741357796927,
                                -122.25972175598146
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25971672683956,
                                    37.87376757468681
                                    ],
                                    [
                                    -122.25941061973573,
                                    37.87383959561871
                                    ],
                                    [
                                    -122.25952226668598,
                                    37.87412855572977
                                    ],
                                    [
                                    -122.25962519645692,
                                    37.87440369833904
                                    ],
                                    [
                                    -122.2596573829651,
                                    37.87448635702445
                                    ],
                                    [
                                    -122.25996349006893,
                                    37.874414101750965
                                    ],
                                    [
                                    -122.25988805294038,
                                    37.87421668668106
                                    ],
                                    [
                                    -122.25992996245624,
                                    37.874207162506806
                                    ],
                                    [
                                    -122.25989241153003,
                                    37.87410761119298
                                    ],
                                    [
                                    -122.2598494961858,
                                    37.87411660625863
                                    ],
                                    [
                                    -122.25971672683956,
                                    37.87376757468681
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "mcLaughlin",
                                "name": "McLaughlin",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87384384637154,
                                -122.25907266139986
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25927449762823,
                                    37.87368477970995
                                    ],
                                    [
                                    -122.25875884294513,
                                    37.87380489089124
                                    ],
                                    [
                                    -122.25882589817049,
                                    37.87398320536748
                                    ],
                                    [
                                    -122.25934155285358,
                                    37.873861507107016
                                    ],
                                    [
                                    -122.25927449762823,
                                    37.87368477970995
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "moffit",
                                "name": "Moffitt Library",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87256268789292,
                                -122.260889245739
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.26111382246019,
                                    37.87227205443589
                                    ],
                                    [
                                    -122.26044796407224,
                                    37.87242238398424
                                    ],
                                    [
                                    -122.26059682667258,
                                    37.872832509390626
                                    ],
                                    [
                                    -122.26126335561277,
                                    37.87268276525057
                                    ],
                                    [
                                    -122.26111382246019,
                                    37.87227205443589
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "morgan",
                                "name": "Morgan",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.8733205441706,
                                -122.26425737142564
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.26431705057622,
                                    37.87305087637287
                                    ],
                                    [
                                    -122.26421177387239,
                                    37.87305801429587
                                    ],
                                    [
                                    -122.2642067447305,
                                    37.873010657228015
                                    ],
                                    [
                                    -122.2640471532941,
                                    37.8730209773976
                                    ],
                                    [
                                    -122.26406726986171,
                                    37.87321470213602
                                    ],
                                    [
                                    -122.26411823183301,
                                    37.873212321060194
                                    ],
                                    [
                                    -122.26414438337089,
                                    37.87345817553824
                                    ],
                                    [
                                    -122.26398780941965,
                                    37.873468758061605
                                    ],
                                    [
                                    -122.26400390267374,
                                    37.87361908078145
                                    ],
                                    [
                                    -122.26437438279393,
                                    37.8735949965346
                                    ],
                                    [
                                    -122.26431705057622,
                                    37.87305087637287
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "mulford",
                                "name": "Mulford",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.872620901538944,
                                -122.26451352238657
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.26488634943962,
                                    37.87250170816175
                                    ],
                                    [
                                    -122.2641058266163,
                                    37.872551234727396
                                    ],
                                    [
                                    -122.26410984992981,
                                    37.872591448803085
                                    ],
                                    [
                                    -122.2640696167946,
                                    37.8725948881638
                                    ],
                                    [
                                    -122.26409241557124,
                                    37.87280924863602
                                    ],
                                    [
                                    -122.26412728428842,
                                    37.8728079258088
                                    ],
                                    [
                                    -122.26413130760194,
                                    37.872848668875
                                    ],
                                    [
                                    -122.26431369781496,
                                    37.87283729256659
                                    ],
                                    [
                                    -122.26430062204602,
                                    37.87270046194974
                                    ],
                                    [
                                    -122.26470664143564,
                                    37.87267426992854
                                    ],
                                    [
                                    -122.2647200524807,
                                    37.87280419930613
                                    ],
                                    [
                                    -122.26491551846267,
                                    37.87279176472888
                                    ],
                                    [
                                    -122.26488634943962,
                                    37.87250170816175
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "north",
                                "name": "North Gate",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87498370718989,
                                -122.25943817066194
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25987799465659,
                                    37.87466209482108
                                    ],
                                    [
                                    -122.2595474123955,
                                    37.87470333793338
                                    ],
                                    [
                                    -122.25956485964485,
                                    37.874784600594566
                                    ],
                                    [
                                    -122.25975528359415,
                                    37.87476052620733
                                    ],
                                    [
                                    -122.2597913257778,
                                    37.87494234010588
                                    ],
                                    [
                                    -122.25955042988063,
                                    37.87497300234214
                                    ],
                                    [
                                    -122.2595194168389,
                                    37.87481965279847
                                    ],
                                    [
                                    -122.259369045496,
                                    37.87483780401283
                                    ],
                                    [
                                    -122.25937858177481,
                                    37.87488093782239
                                    ],
                                    [
                                    -122.25937841413675,
                                    37.874886493540046
                                    ],
                                    [
                                    -122.25926863625172,
                                    37.874900133448385
                                    ],
                                    [
                                    -122.25930886343123,
                                    37.87509794671682
                                    ],
                                    [
                                    -122.25995661690833,
                                    37.875016704834934
                                    ],
                                    [
                                    -122.25991923362018,
                                    37.87483354863646
                                    ],
                                    [
                                    -122.25988537073137,
                                    37.874837252450675
                                    ],
                                    [
                                    -122.25986693054439,
                                    37.87474598081227
                                    ],
                                    [
                                    -122.25989341735841,
                                    37.87474148331803
                                    ],
                                    [
                                    -122.25987799465659,
                                    37.87466209482108
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "oBrien",
                                "name": "O'Brien",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87438137558222,
                                -122.25912216569903
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25910350680354,
                                    37.87415817970853
                                    ],
                                    [
                                    -122.25892145186664,
                                    37.87420187157832
                                    ],
                                    [
                                    -122.25907567888501,
                                    37.87460810231777
                                    ],
                                    [
                                    -122.2592577338219,
                                    37.87456574337753
                                    ],
                                    [
                                    -122.25923124700788,
                                    37.874495885735804
                                    ],
                                    [
                                    -122.25912764668466,
                                    37.87422146472726
                                    ],
                                    [
                                    -122.25910350680354,
                                    37.87415817970853
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "philosophy",
                                "name": "Philosophy Hall",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87101220331354,
                                -122.25804135203364
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25841552019122,
                                    37.87083619541107
                                    ],
                                    [
                                    -122.25817563012244,
                                    37.87089334496628
                                    ],
                                    [
                                    -122.25818602368238,
                                    37.87092297705942
                                    ],
                                    [
                                    -122.25807789713144,
                                    37.870948111414776
                                    ],
                                    [
                                    -122.25805643945932,
                                    37.870893301798844
                                    ],
                                    [
                                    -122.25807923823596,
                                    37.87088801035241
                                    ],
                                    [
                                    -122.2580602951348,
                                    37.87083932338037
                                    ],
                                    [
                                    -122.25806700065732,
                                    37.870828608193044
                                    ],
                                    [
                                    -122.25805627182126,
                                    37.870804267514835
                                    ],
                                    [
                                    -122.25804436951877,
                                    37.870800166638894
                                    ],
                                    [
                                    -122.25803481414914,
                                    37.870774635373955
                                    ],
                                    [
                                    -122.25785242393616,
                                    37.870817907471114
                                    ],
                                    [
                                    -122.25789804828392,
                                    37.87093987335432
                                    ],
                                    [
                                    -122.25790995058642,
                                    37.870936830774596
                                    ],
                                    [
                                    -122.25792738494503,
                                    37.87098418917551
                                    ],
                                    [
                                    -122.25785647404419,
                                    37.87100019577899
                                    ],
                                    [
                                    -122.25790623575452,
                                    37.87113242029072
                                    ],
                                    [
                                    -122.25801838561895,
                                    37.87110609542624
                                    ],
                                    [
                                    -122.25800916552546,
                                    37.871078579979994
                                    ],
                                    [
                                    -122.25801654160026,
                                    37.87107748515285
                                    ],
                                    [
                                    -122.25803632289173,
                                    37.87108833258978
                                    ],
                                    [
                                    -122.25807756185533,
                                    37.87107880801111
                                    ],
                                    [
                                    -122.25808426737788,
                                    37.87106213999543
                                    ],
                                    [
                                    -122.25817713886501,
                                    37.871038857681526
                                    ],
                                    [
                                    -122.25819088518621,
                                    37.871043619973605
                                    ],
                                    [
                                    -122.25821033120157,
                                    37.871039651396885
                                    ],
                                    [
                                    -122.25821837782863,
                                    37.87103012681193
                                    ],
                                    [
                                    -122.25823044776918,
                                    37.87102774566547
                                    ],
                                    [
                                    -122.25822843611242,
                                    37.87102192508497
                                    ],
                                    [
                                    -122.25846514105797,
                                    37.87096424839876
                                    ],
                                    [
                                    -122.25841552019122,
                                    37.87083619541107
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "physics",
                                "name": "Physics Building",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.8725815802396,
                                -122.25740700960161
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.2574680298567,
                                    37.87242341835828
                                    ],
                                    [
                                    -122.25717801600696,
                                    37.8724898117199
                                    ],
                                    [
                                    -122.25719209760429,
                                    37.87253002582912
                                    ],
                                    [
                                    -122.25705094635487,
                                    37.872562302927214
                                    ],
                                    [
                                    -122.2569221247857,
                                    37.87221196625783
                                    ],
                                    [
                                    -122.25660830633097,
                                    37.87228392860391
                                    ],
                                    [
                                    -122.25679814815523,
                                    37.87279441981036
                                    ],
                                    [
                                    -122.25726418197156,
                                    37.87268647701282
                                    ],
                                    [
                                    -122.2573768347502,
                                    37.8729811231012
                                    ],
                                    [
                                    -122.25765444338323,
                                    37.87291604012773
                                    ],
                                    [
                                    -122.2574680298567,
                                    37.87242341835828
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "pimentel",
                                "name": "Pimentel",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87342440273177,
                                -122.2560651179743
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25614637136462,
                                    37.87331747513624
                                    ],
                                    [
                                    -122.25609390065077,
                                    37.87330799443173
                                    ],
                                    [
                                    -122.25602701306346,
                                    37.873306936177165
                                    ],
                                    [
                                    -122.25596264004709,
                                    37.8733226777124
                                    ],
                                    [
                                    -122.2559180483222,
                                    37.87334331366951
                                    ],
                                    [
                                    -122.25588485598564,
                                    37.873365007874554
                                    ],
                                    [
                                    -122.25585954263808,
                                    37.87339252246688
                                    ],
                                    [
                                    -122.25585015490654,
                                    37.87342971007963
                                    ],
                                    [
                                    -122.25585820153357,
                                    37.87346466279387
                                    ],
                                    [
                                    -122.25588636472823,
                                    37.873502892148935
                                    ],
                                    [
                                    -122.25592391565444,
                                    37.87352075014536
                                    ],
                                    [
                                    -122.25597370415927,
                                    37.8735325231925
                                    ],
                                    [
                                    -122.25602600723506,
                                    37.873533316881016
                                    ],
                                    [
                                    -122.25608602166177,
                                    37.87352286664837
                                    ],
                                    [
                                    -122.25613027811052,
                                    37.87350616264632
                                    ],
                                    [
                                    -122.2561812400818,
                                    37.87347322455411
                                    ],
                                    [
                                    -122.25621074438097,
                                    37.873437905378644
                                    ],
                                    [
                                    -122.25621895864607,
                                    37.87340351215778
                                    ],
                                    [
                                    -122.25621359422804,
                                    37.87337052012056
                                    ],
                                    [
                                    -122.25618828088047,
                                    37.87334393149231
                                    ],
                                    [
                                    -122.25614637136462,
                                    37.87331747513624
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "rsf",
                                "name": "RSF",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.8686648368522,
                                -122.26281848285676
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.26312011480334,
                                    37.868339891932855
                                    ],
                                    [
                                    -122.26235065609218,
                                    37.868429798680445
                                    ],
                                    [
                                    -122.26238485425712,
                                    37.86861376122739
                                    ],
                                    [
                                    -122.26225409656764,
                                    37.86862857773382
                                    ],
                                    [
                                    -122.26229667663576,
                                    37.8688522053673
                                    ],
                                    [
                                    -122.26231042295697,
                                    37.868835272268235
                                    ],
                                    [
                                    -122.26243246346715,
                                    37.868821514122345
                                    ],
                                    [
                                    -122.26244989782572,
                                    37.86883209731172
                                    ],
                                    [
                                    -122.26245794445279,
                                    37.86887760920884
                                    ],
                                    [
                                    -122.2625591978431,
                                    37.86886543854847
                                    ],
                                    [
                                    -122.26257998496295,
                                    37.86897285778584
                                    ],
                                    [
                                    -122.26321130990985,
                                    37.868898007965974
                                    ],
                                    [
                                    -122.26319186389448,
                                    37.868797996855285
                                    ],
                                    [
                                    -122.26327702403071,
                                    37.868785297021994
                                    ],
                                    [
                                    -122.26324282586576,
                                    37.86862390685009
                                    ],
                                    [
                                    -122.26317510008815,
                                    37.8686334317461
                                    ],
                                    [
                                    -122.26312011480334,
                                    37.868339891932855
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "ssb",
                                "name": "Social Sciences Building",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87005726902098,
                                -122.25807487964632
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25843966007234,
                                    37.869874073403864
                                    ],
                                    [
                                    -122.25742645561695,
                                    37.87000481992685
                                    ],
                                    [
                                    -122.25747339427473,
                                    37.87023084676954
                                    ],
                                    [
                                    -122.25779056549074,
                                    37.870189293877424
                                    ],
                                    [
                                    -122.25782476365568,
                                    37.870351799959096
                                    ],
                                    [-122.25804631517028, 37.870324460513544],
                                    [-122.25803353387349, 37.87026207873919],
                                    [-122.25796656539104, 37.87027029292699],
                                    [-122.25794629454474, 37.870169301968545],
                                    [-122.25817130572807, 37.870140781488345],
                                    [-122.25819273078142, 37.87023882194093],
                                    [-122.25812866077331, 37.8702465533344],
                                    [-122.258140520746, 37.87031083863691],
                                    [
                                    -122.25835517048837,
                                    37.870285368363135
                                    ],
                                    [
                                    -122.25832231342793,
                                    37.87012286213493
                                    ],
                                    [
                                    -122.25848659873009,
                                    37.87010115932165
                                    ],
                                    [
                                    -122.25843966007234,
                                    37.869874073403864
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "soda",
                                "name": "Soda",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.8756836866305,
                                -122.25876988957216
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25887618958951,
                                    37.87540136534306
                                    ],
                                    [
                                    -122.25846964662604,
                                    37.87545411140117
                                    ],
                                    [
                                    -122.25857309997085,
                                    37.87594697343317
                                    ],
                                    [
                                    -122.25897945463659,
                                    37.87589511631885
                                    ],
                                    [
                                    -122.25887618958951,
                                    37.87540136534306
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "south",
                                "name": "South Hall",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87133886499348,
                                -122.2585563361645
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.2585503011942,
                                    37.871124500056354
                                    ],
                                    [
                                    -122.25837260484698,
                                    37.87116523248001
                                    ],
                                    [
                                    -122.25851744413379,
                                    37.871557927165156
                                    ],
                                    [
                                    -122.25869312882425,
                                    37.8715187708056
                                    ],
                                    [
                                    -122.25866094231607,
                                    37.87142987520932
                                    ],
                                    [
                                    -122.25867301225665,
                                    37.871427758646185
                                    ],
                                    [
                                    -122.2585952281952,
                                    37.87121127945174
                                    ],
                                    [
                                    -122.25858315825465,
                                    37.87121445430575
                                    ],
                                    [
                                    -122.2585503011942,
                                    37.871124500056354
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "starr",
                                "name": "Starr Library",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.873550775739,
                                -122.26035939289093
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.26062331348659,
                                    37.87334992444379
                                    ],
                                    [
                                    -122.2599779069424,
                                    37.87349680500775
                                    ],
                                    [
                                    -122.26006373763087,
                                    37.87373049231959
                                    ],
                                    [
                                    -122.26070880889894,
                                    37.87358247538578
                                    ],
                                    [
                                    -122.26062331348659,
                                    37.87334992444379
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "stephens",
                                "name": "Stephens",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.871340864331145,
                                -122.2576940059662
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25765679031612,
                                    37.87104579936206
                                    ],
                                    [
                                    -122.25753206759693,
                                    37.87107528678786
                                    ],
                                    [
                                    -122.25751178339125,
                                    37.87102460869737
                                    ],
                                    [
                                    -122.25746216252448,
                                    37.8710363821434
                                    ],
                                    [
                                    -122.25748077034952,
                                    37.87108600674604
                                    ],
                                    [
                                    -122.25741237401964,
                                    37.87110174875584
                                    ],
                                    [
                                    -122.25743936374786,
                                    37.871170566124334
                                    ],
                                    [
                                    -122.25750105455519,
                                    37.8711560130204
                                    ],
                                    [
                                    -122.25751865655187,
                                    37.87120019642594
                                    ],
                                    [
                                    -122.25754648447038,
                                    37.87119397900221
                                    ],
                                    [
                                    -122.25758772343399,
                                    37.87130382642965
                                    ],
                                    [
                                    -122.25756324827672,
                                    37.87131072874477
                                    ],
                                    [
                                    -122.25757732987407,
                                    37.87134856236153
                                    ],
                                    [
                                    -122.25740583613516,
                                    37.8713886518085
                                    ],
                                    [
                                    -122.25743249058725,
                                    37.87145838183821
                                    ],
                                    [
                                    -122.25734548643233,
                                    37.87147878305422
                                    ],
                                    [
                                    -122.25740717723968,
                                    37.871644703950004
                                    ],
                                    [
                                    -122.25753827020529,
                                    37.87161321642571
                                    ],
                                    [
                                    -122.25749166682364,
                                    37.871491339778075
                                    ],
                                    [
                                    -122.25754665210843,
                                    37.87147877269413
                                    ],
                                    [
                                    -122.25755872204901,
                                    37.87150708170127
                                    ],
                                    [
                                    -122.25766299292447,
                                    37.871483144542545
                                    ],
                                    [
                                    -122.25763650617694,
                                    37.87141312252581
                                    ],
                                    [
                                    -122.25778117775918,
                                    37.871379110795125
                                    ],
                                    [
                                    -122.25777598097923,
                                    37.871365485409555
                                    ],
                                    [
                                    -122.25780816748741,
                                    37.87135781286126
                                    ],
                                    [
                                    -122.25781487300992,
                                    37.87134220319152
                                    ],
                                    [
                                    -122.25780565291645,
                                    37.87131676860605
                                    ],
                                    [
                                    -122.25779324769975,
                                    37.87131055119216
                                    ],
                                    [
                                    -122.25776005536319,
                                    37.87131888517234
                                    ],
                                    [
                                    -122.25765679031612,
                                    37.87104579936206
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "sutardja",
                                "name": "Sutardja Dai",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87482657377926,
                                -122.25830213857652
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25866975147339,
                                    37.87457614079342
                                    ],
                                    [
                                    -122.2580602951348,
                                    37.87471077926682
                                    ],
                                    [
                                    -122.25807387381793,
                                    37.87474702378673
                                    ],
                                    [
                                    -122.2580758854747,
                                    37.87475630493867
                                    ],
                                    [
                                    -122.25803364068271,
                                    37.87476926830112
                                    ],
                                    [
                                    -122.25810069590808,
                                    37.87494870689818
                                    ],
                                    [
                                    -122.25811243057252,
                                    37.874946061320635
                                    ],
                                    [
                                    -122.25819155573848,
                                    37.875157244280764
                                    ],
                                    [
                                    -122.25824519991875,
                                    37.8752191079414
                                    ],
                                    [
                                    -122.25834980607034,
                                    37.875180747198485
                                    ],
                                    [
                                    -122.25834880024196,
                                    37.875172810490575
                                    ],
                                    [
                                    -122.25845307111742,
                                    37.87515561428713
                                    ],
                                    [
                                    -122.25845072418454,
                                    37.87514106365034
                                    ],
                                    [
                                    -122.25851744413379,
                                    37.87513074247109
                                    ],
                                    [
                                    -122.25844234228136,
                                    37.874910101522474
                                    ],
                                    [
                                    -122.25876688957216,
                                    37.8748375090291
                                    ],
                                    [
                                    -122.25866975147339,
                                    37.87457614079342
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "tan",
                                "name": "Tan",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.873104673025615,
                                -122.25646957755092
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.2565607726574,
                                    37.872922554513664
                                    ],
                                    [
                                    -122.25651685148478,
                                    37.87293203162779
                                    ],
                                    [
                                    -122.25650478154422,
                                    37.872901871212505
                                    ],
                                    [
                                    -122.25623387843372,
                                    37.87296432936287
                                    ],
                                    [
                                    -122.25634787231687,
                                    37.873292763027685
                                    ],
                                    [
                                    -122.25637938827279,
                                    37.87328614893497
                                    ],
                                    [
                                    -122.25639749318363,
                                    37.873327156300256
                                    ],
                                    [
                                    -122.2566466033459,
                                    37.87326918642871
                                    ],
                                    [
                                    -122.2566365450621,
                                    37.87323214748999
                                    ],
                                    [
                                    -122.25666806101802,
                                    37.87322473970001
                                    ],
                                    [
                                    -122.2565607726574,
                                    37.872922554513664
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "ucLaw",
                                "name": "UC LAW",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.86989927339139,
                                -122.25334882736207
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.2540180385113,
                                    37.869454612328646
                                    ],
                                    [
                                    -122.25294549018146,
                                    37.86959756000514
                                    ],
                                    [
                                    -122.25295051932338,
                                    37.86963142584905
                                    ],
                                    [
                                    -122.25253660010462,
                                    37.869687975190296
                                    ],
                                    [
                                    -122.25265279412271,
                                    37.87012047890579
                                    ],
                                    [
                                    -122.2527999803424,
                                    37.87009746086949
                                    ],
                                    [
                                    -122.25277919322254,
                                    37.87001914657717
                                    ],
                                    [
                                    -122.25281506776813,
                                    37.8700157070962
                                    ],
                                    [
                                    -122.25290190428497,
                                    37.87000459492586
                                    ],
                                    [
                                    -122.25294314324857,
                                    37.870178500442904
                                    ],
                                    [
                                    -122.25297432392836,
                                    37.87017585469406
                                    ],
                                    [
                                    -122.25297700613739,
                                    37.87019543323329
                                    ],
                                    [
                                    -122.252949513495,
                                    37.870199137280686
                                    ],
                                    [
                                    -122.25295487791303,
                                    37.8702274467795
                                    ],
                                    [
                                    -122.25302025675774,
                                    37.87022083241158
                                    ],
                                    [
                                    -122.25302394479515,
                                    37.870239881789566
                                    ],
                                    [
                                    -122.25296191871168,
                                    37.870248877327434
                                    ],
                                    [
                                    -122.2529897466302,
                                    37.870378829836184
                                    ],
                                    [
                                    -122.25364655256274,
                                    37.87029149632407
                                    ],
                                    [
                                    -122.25361973047258,
                                    37.87016176782181
                                    ],
                                    [
                                    -122.253557369113,
                                    37.870168911344855
                                    ],
                                    [
                                    -122.25355301052333,
                                    37.87014933279855
                                    ],
                                    [
                                    -122.25361570715904,
                                    37.870140337248515
                                    ],
                                    [
                                    -122.25360900163652,
                                    37.870115202617576
                                    ],
                                    [
                                    -122.25354395806791,
                                    37.87012340444548
                                    ],
                                    [
                                    -122.25353825837375,
                                    37.870103825887085
                                    ],
                                    [
                                    -122.25360430777074,
                                    37.870094301181126
                                    ],
                                    [
                                    -122.25359089672568,
                                    37.870030009383704
                                    ],
                                    [
                                    -122.25362911820413,
                                    37.870024453299806
                                    ],
                                    [
                                    -122.25363180041316,
                                    37.870033448863985
                                    ],
                                    [
                                    -122.25379541516305,
                                    37.8700136022528
                                    ],
                                    [
                                    -122.25379306823017,
                                    37.87000328380868
                                    ],
                                    [
                                    -122.253853417933,
                                    37.86999561111848
                                    ],
                                    [
                                    -122.25386012345554,
                                    37.87003238710896
                                    ],
                                    [
                                    -122.25413102656604,
                                    37.87000399362604
                                    ],
                                    [
                                    -122.2540180385113,
                                    37.869454612328646
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "vlsb",
                                "name": "Valley Life Sciences",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87148105630965,
                                -122.26217329502107
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.26284820586444,
                                    37.87110614652702
                                    ],
                                    [
                                    -122.26264972239734,
                                    37.871152415733135
                                    ],
                                    [
                                    -122.26259976625445,
                                    37.87101907163545
                                    ],
                                    [
                                    -122.26143065840006,
                                    37.8712929857912
                                    ],
                                    [
                                    -122.26148094981912,
                                    37.87142537620593
                                    ],
                                    [
                                    -122.26128045469525,
                                    37.87147749655682
                                    ],
                                    [
                                    -122.26130627095701,
                                    37.8715452265009
                                    ],
                                    [
                                    -122.2612948715687,
                                    37.87159258451071
                                    ],
                                    [
                                    -122.26130794733766,
                                    37.871628848391545
                                    ],
                                    [
                                    -122.26129386574031,
                                    37.87163255236683
                                    ],
                                    [
                                    -122.26132202893497,
                                    37.871710632015045
                                    ],
                                    [
                                    -122.26133778691293,
                                    37.87170745718244
                                    ],
                                    [
                                    -122.26134750992061,
                                    37.87173126842369
                                    ],
                                    [
                                    -122.26139411330226,
                                    37.87177917579895
                                    ],
                                    [
                                    -122.261419929564,
                                    37.87183765852738
                                    ],
                                    [
                                    -122.26162243634464,
                                    37.87179823774743
                                    ],
                                    [
                                    -122.26167440414429,
                                    37.871933999912265
                                    ],
                                    [
                                    -122.26284116506578,
                                    37.871652404701976
                                    ],
                                    [
                                    -122.26279053837064,
                                    37.87152029933212
                                    ],
                                    [
                                    -122.26299002766612,
                                    37.87147135385442
                                    ],
                                    [
                                    -122.26284820586444,
                                    37.87110614652702
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "wheeler",
                                "name": "Wheeler",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87132002272872,
                                -122.25919336080554
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25942336022855,
                                    37.87098683408855
                                    ],
                                    [
                                    -122.25872296839954,
                                    37.87114531010597
                                    ],
                                    [
                                    -122.25876722484828,
                                    37.871268117804476
                                    ],
                                    [
                                    -122.25881416350605,
                                    37.871257799536025
                                    ],
                                    [
                                    -122.2589157521725,
                                    37.87153595749787
                                    ],
                                    [
                                    -122.25888926535846,
                                    37.8715425717477
                                    ],
                                    [
                                    -122.25892146693991,
                                    37.87162909842655
                                    ],
                                    [
                                    -122.25961312651637,
                                    37.87147163615816
                                    ],
                                    [
                                    -122.25957825779916,
                                    37.87137662766166
                                    ],
                                    [
                                    -122.25953467190268,
                                    37.87138668134295
                                    ],
                                    [
                                    -122.25942838937046,
                                    37.87109582524915
                                    ],
                                    [
                                    -122.25945990532638,
                                    37.87108815267274
                                    ],
                                    [
                                    -122.25942336022855,
                                    37.87098683408855
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "wellman",
                                "name": "Wellman",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.873123694405,
                                -122.26280483867647
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.26302623748781,
                                    37.872981820228986
                                    ],
                                    [
                                    -122.26286027580501,
                                    37.873016838285515
                                    ],
                                    [
                                    -122.26281702518465,
                                    37.87297753744573
                                    ],
                                    [
                                    -122.2627539932728,
                                    37.872961932599125
                                    ],
                                    [
                                    -122.26268962025644,
                                    37.87297688051361
                                    ],
                                    [
                                    -122.26264670491221,
                                    37.87301697206117
                                    ],
                                    [
                                    -122.2626374848187,
                                    37.8730685790036
                                    ],
                                    [
                                    -122.26246967911723,
                                    37.87310625854518
                                    ],
                                    [
                                    -122.26253740489484,
                                    37.87328933685935
                                    ],
                                    [
                                    -122.26309061050416,
                                    37.87316391246147
                                    ],
                                    [
                                    -122.26302623748781,
                                    37.872981820228986
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "wurster",
                                "name": "Wurster",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.87081813273527,
                                -122.25486159324647
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.25491389632225,
                                    37.8701188163521
                                    ],
                                    [
                                    -122.25434057414533,
                                    37.87018859059533
                                    ],
                                    [
                                    -122.25438684225085,
                                    37.87042096086396
                                    ],
                                    [
                                    -122.25431039929391,
                                    37.87043103464943
                                    ],
                                    [
                                    -122.254323810339,
                                    37.87050194044018
                                    ],
                                    [
                                    -122.25454643368722,
                                    37.870473366473
                                    ],
                                    [
                                    -122.25453371627385,
                                    37.870404163598096
                                    ],
                                    [
                                    -122.25475499851758,
                                    37.870377177037994
                                    ],
                                    [
                                    -122.25481264293195,
                                    37.87066553212539
                                    ],
                                    [
                                    -122.2544223815203,
                                    37.87071528921765
                                    ],
                                    [
                                    -122.25442640483381,
                                    37.87074227565388
                                    ],
                                    [
                                    -122.25432783365251,
                                    37.87075391685861
                                    ],
                                    [
                                    -122.25436337292197,
                                    37.87092490293942
                                    ],
                                    [
                                    -122.25446529686454,
                                    37.870912203472734
                                    ],
                                    [
                                    -122.25448943674566,
                                    37.87103073174341
                                    ],
                                    [
                                    -122.2552800178528,
                                    37.870934402897596
                                    ],
                                    [
                                    -122.2552176564932,
                                    37.870623644623656
                                    ],
                                    [
                                    -122.2550205141306,
                                    37.870647985361565
                                    ],
                                    [
                                    -122.25491389632225,
                                    37.8701188163521
                                    ]
                                ]
                                ]
                            }
                            },
                            {
                            "type": "Feature",
                            "properties": {
                                "id": "zellerbach",
                                "name": "Zellerbach",
                                "rooms": 0,
                                "numRooms": 0,
                                "center": [
                                37.86910402990676,
                                -122.26082877946855
                                ]
                            },
                            "geometry": {
                                "type": "Polygon",
                                "coordinates": [
                                [
                                    [
                                    -122.26110577583314,
                                    37.86885730350356
                                    ],
                                    [
                                    -122.26040974259378,
                                    37.86894352766273
                                    ],
                                    [
                                    -122.26048920303585,
                                    37.86933788708592
                                    ],
                                    [
                                    -122.2606658935547,
                                    37.869316187588204
                                    ],
                                    [
                                    -122.26067259907724,
                                    37.869348730672165
                                    ],
                                    [
                                    -122.26107761263847,
                                    37.86929791079807
                                    ],
                                    [
                                    -122.26107124239209,
                                    37.869267484316914
                                    ],
                                    [
                                    -122.26118791848423,
                                    37.869252932517135
                                    ],
                                    [
                                    -122.26110577583314,
                                    37.86885730350356
                                    ]
                                ]
                                ]
                            }
                            }
                    ]
                }
            });

            // Add a 3D layer to use the bounding box source.
            map.addLayer({
                'id': 'boundingBoxes',
                'type': 'fill-extrusion',
                'source': 'boundingBoxes',
                'layout': {},
                'paint': {
                    'fill-extrusion-color': [
                        'interpolate', ['linear'], ['get', 'numRooms'],
                        0, '#FF0000',
                        5, '#FFFF00',
                        10, '#00FF00'
                    ],
                    'fill-extrusion-height': 50, // Adjust height as needed
                    'fill-extrusion-opacity': 0.5,
                    'fill-extrusion-emissive-strength': 0.5
                }
            });

            // Add a symbol layer for the label.
            map.addSource('boundingBoxLabels', {
                'type': 'geojson',
                'data': {
                    'type': 'FeatureCollection',
                    'features': []
                }
            });

            map.addLayer({
                'id': 'boundingBoxLabels',
                'type': 'symbol',
                'source': 'boundingBoxLabels',
                'layout': {
                    'text-field': '{numRooms}',
                    'text-font': ['DIN Offc Pro Bold', 'Arial Unicode MS Regular'],
                    'text-size': [
                        'interpolate', ['linear'], ['zoom'],
                        15, 8,
                        20, 38
                    ],
                    'text-offset': [0, 0],
                    'text-anchor': 'center'
                },
                'paint': {
                    'text-color': 'white'
                }
            });

            

            const dayMapping = {
                'Sunday': 'SU',
                'Monday': 'M',
                'Tuesday': 'TU',
                'Wednesday': 'W',
                'Thursday': 'TH',
                'Friday': 'F',
                'Saturday': 'SA'
            };

            async function fetchData(day, time, duration) {
                if (time >= 20 || time < 6) {
                    map.setConfigProperty('basemap', 'lightPreset', 'night');
                    map.setPaintProperty('boundingBoxLabels', 'text-color', '#FFFFFF');
                } else if (time >= 18 && time < 20) {
                    map.setConfigProperty('basemap', 'lightPreset', 'dusk');
                    map.setPaintProperty('boundingBoxLabels', 'text-color', '#FFFFFF');
                } else if (time >= 6 && time < 8) {
                    map.setConfigProperty('basemap', 'lightPreset', 'dawn');
                    map.setPaintProperty('boundingBoxLabels', 'text-color', '#000000');
                } else {
                    map.setConfigProperty('basemap', 'lightPreset', 'day');
                    map.setPaintProperty('boundingBoxLabels', 'text-color', '#000000');
                }

                // Fetch the data from data.json
                let response = await fetch('/static/data.json');
                let data = await response.json();

                // Convert duration to half-hour intervals and handle overflow
                let intervals = [];
                const daysOfWeek = ['M', 'TU', 'W', 'TH', 'F', 'SA', 'SU'];
                let dayIndex = daysOfWeek.indexOf(day);

                for (let i = 0; i < duration * 2; i++) {
                    let intervalTime = time + (i * 0.5);
                    let intervalDay = day;

                    if (intervalTime >= 24) {
                        intervalTime -= 24;
                        dayIndex = (dayIndex + 1) % 7;
                        intervalDay = daysOfWeek[dayIndex];
                    }

                    intervals.push({ day: intervalDay, time: intervalTime });
                }

                let availableRooms = {};
                let roomAvailability = {};

                // Initialize room availability for each interval
                intervals.forEach(interval => {
                    let matchedData = data.find(entry => entry.day === interval.day && entry.time === interval.time);
                    if (matchedData) {
                        Object.keys(matchedData.data).forEach(building => {
                            if (!availableRooms[building]) {
                                availableRooms[building] = new Set();
                            }
                            const rooms = matchedData.data[building];
                            if (rooms.length > 0) {
                                if (!availableRooms[building].size) {
                                    availableRooms[building] = new Set(rooms);
                                } else {
                                    availableRooms[building] = new Set([...availableRooms[building]].filter(room => rooms.includes(room)));
                                }
                            }
                        });
                    }
                });


                let boundingBoxData = {
                    "type": "FeatureCollection",
                    "features": [] // Initialize with an empty array
                };

                // Filter rooms that are available for all intervals
                Object.keys(availableRooms).forEach(building => {
                    let totalRooms = availableRooms[building].size;
                    availableRooms[building] = Array.from(availableRooms[building]);

                    // Update the bounding box features with the number of rooms
                    const boundingBoxSource = map.getSource('boundingBoxes');
                    if (boundingBoxSource) {
                        boundingBoxData = boundingBoxSource._data || {
                            "type": "FeatureCollection",
                            "features": []
                        };

                        boundingBoxData.features.forEach(feature => {
                            if (feature.properties.name === building) {
                                feature.properties.numRooms = totalRooms;
                                feature.properties.rooms = availableRooms[building];
                            }
                        });

                        // Update the boundingBoxes source with new data
                        boundingBoxSource.setData(boundingBoxData);
                    }
                });

                // Update the source for the center symbols
                const centerFeatures = boundingBoxData.features.map(feature => ({
                    type: 'Feature',
                    properties: {
                        id: feature.properties.id,
                        numRooms: feature.properties.numRooms
                    },
                    geometry: {
                        type: 'Point',
                        coordinates: [
                            feature.properties.center[1] + 0.00003, // Longitude
                            feature.properties.center[0]  // Latitude
                        ]
                    }
                }));

                // Update the source for the center symbols
                map.getSource('boundingBoxLabels').setData({
                    type: 'FeatureCollection',
                    features: centerFeatures
                });
            }

            // Store the currently hovered and clicked feature IDs
            let hoveredId = null;
            let clickedId = null;

            function updateBuildingInfo(feature) {
                const building = feature.properties.name;
                const rooms = JSON.parse(feature.properties.rooms);

                rooms.sort((a, b) => {
                    const numA = parseInt(a.match(/\d+/)[0], 10);
                    const numB = parseInt(b.match(/\d+/)[0], 10);
                    return numA - numB;
                });

                document.getElementById('infoContentTitle').textContent = building;
                document.getElementById('infoContentTitle').classList.add('bold');
                document.getElementById('infoContent').innerHTML = `${rooms.join('<br>')}`;
                if (rooms.length === 0) { document.getElementById('infoContent').textContent = 'No rooms available'; }
            }

            function resetBuildingInfo() {
                document.getElementById('infoTitle').textContent = 'Building Information';
                document.getElementById('infoContentTitle').textContent = 'Hover over a building';
                document.getElementById('infoContentTitle').classList.remove('bold');
                document.getElementById('infoContent').textContent = '';
            }

            function updateBoundingBoxColors() {
                map.setPaintProperty('boundingBoxes', 'fill-extrusion-color', [
                    'case',
                    ['==', ['get', 'id'], hoveredId],
                    '#000000',
                    ['==', ['get', 'id'], clickedId],
                    '#000000',
                    [
                        'interpolate', ['linear'], ['get', 'numRooms'],
                        0, '#FF0000',
                        5, '#FFFF00',
                        10, '#00FF00'
                    ]
                ]);
            }

            // Handle hover and click events
            map.on('mousemove', 'boundingBoxes', function (e) {
                const features = map.queryRenderedFeatures(e.point, { layers: ['boundingBoxes'] });

                if (features.length > 0) {
                    const feature = features[0];
                    if (hoveredId !== feature.properties.id) {
                        hoveredId = feature.properties.id;
                        updateBoundingBoxColors();
                        updateBuildingInfo(feature);
                    }
                }
                map.getCanvas().style.cursor = 'pointer';
            });

            map.on('mouseleave', 'boundingBoxes', function () {
                if (clickedId === null) {
                    hoveredId = null;
                    updateBoundingBoxColors();
                    resetBuildingInfo();
                } else {
                    // If a building is clicked, ensure the clicked building stays highlighted
                    const clickedFeature = map.queryRenderedFeatures({ layers: ['boundingBoxes'] }).find(f => f.properties.id === clickedId);
                    if (clickedFeature) {
                        hoveredId = null;
                        updateBuildingInfo(clickedFeature);
                        updateBoundingBoxColors();
                    }
                }
                map.getCanvas().style.cursor = '';
            });

            map.on('click', 'boundingBoxes', function (e) {
                const features = map.queryRenderedFeatures(e.point, { layers: ['boundingBoxes'] });

                if (features.length > 0) {
                    const feature = features[0];
                    clickedId = feature.properties.id;
                    hoveredId = null; // Reset hoveredId on click

                    const centerArray = JSON.parse(feature.properties.center);
                    map.flyTo({ center: [centerArray[1] + 0.00003, centerArray[0]], zoom: 17.5 });

                    updateBuildingInfo(feature);
                    updateBoundingBoxColors();
                }
            });

            // Click event to detect clicks on empty space
            map.on('click', function (e) {
                const features = map.queryRenderedFeatures(e.point, { layers: ['boundingBoxes'] });

                if (features.length === 0) {
                    clickedId = null;
                    hoveredId = null;
                    updateBoundingBoxColors();
                    resetBuildingInfo();
                }
            });


            // Extract center coordinates and update the symbols layer
            const boundingBoxesSource = map.getSource('boundingBoxes');
            const boundingBoxesData = boundingBoxesSource._data; // This is a direct access to internal data
            const centerFeatures = boundingBoxesData.features.map(feature => ({
                type: 'Feature',
                properties: {
                    id: feature.properties.id,
                    numRooms: feature.properties.numRooms
                },
                geometry: {
                    type: 'Point',
                    coordinates: [
                        feature.properties.center[1] + 0.00003, // Longitude
                        feature.properties.center[0]  // Latitude
                    ]
                }
            }));

            // Update the source for the center symbols
            map.getSource('boundingBoxLabels').setData({
                type: 'FeatureCollection',
                features: centerFeatures
            });

            function fetchAndUpdateData() {
                const { day, time, duration } = getSelectedValues();
                fetchData(day, time, duration);
            }

            function getSelectedValues() {
                const day = document.getElementById('dayDropdown').value;
                const hour = parseInt(document.getElementById('hourDropdown').value, 10);
                const minute = document.getElementById('minuteDropdown').value;
                const ampm = document.getElementById('ampmDropdown').value;
                const duration = parseFloat(document.getElementById('durationBox').textContent);

                let time = hour;
                if (minute === '30') {
                    time += 0.5;
                }
                if (ampm === 'PM' && hour !== 12) {
                    time += 12;
                } else if (ampm === 'AM' && hour === 12) {
                    time = 0;
                }

                return { day, time, duration };
            }

            document.getElementById('dayDropdown').addEventListener('change', fetchAndUpdateData);
            document.getElementById('hourDropdown').addEventListener('change', fetchAndUpdateData);
            document.getElementById('minuteDropdown').addEventListener('change', fetchAndUpdateData);
            document.getElementById('ampmDropdown').addEventListener('change', fetchAndUpdateData);
            document.getElementById('durationBox').addEventListener('input', fetchAndUpdateData);


            document.getElementById('incrementButton').addEventListener('click', function() {
                let durationBox = document.getElementById('durationBox');
                let currentValue = parseFloat(durationBox.textContent);
                durationBox.textContent = (currentValue + 0.5).toFixed(1);
                fetchAndUpdateData();
            });

            document.getElementById('decrementButton').addEventListener('click', function() {
                let durationBox = document.getElementById('durationBox');
                let currentValue = parseFloat(durationBox.textContent);
                if (currentValue > 0.5) { // Ensure duration does not go below 0.5
                    durationBox.textContent = (currentValue - 0.5).toFixed(1);
                }
                fetchAndUpdateData();
            });

            document.getElementById('useCurrentTime').addEventListener('change', function() {
                const isChecked = this.checked;
                const dayDropdown = document.getElementById('dayDropdown');
                const hourDropdown = document.getElementById('hourDropdown');
                const minuteDropdown = document.getElementById('minuteDropdown');
                const ampmDropdown = document.getElementById('ampmDropdown');
                
                if (isChecked) {
                    // Get current time
                    const now = new Date();
                    const currentDay = dayMapping[now.toLocaleDateString('en-US', { weekday: 'long' })] || 'M';
                    const currentHour = now.getHours() % 12 || 12;
                    const currentMinute = now.getMinutes() < 30 ? '00' : '30';
                    const currentAmpm = now.getHours() >= 12 ? 'PM' : 'AM';
                    
                    // Set dropdown values
                    dayDropdown.value = currentDay;
                    hourDropdown.value = currentHour;
                    minuteDropdown.value = currentMinute;
                    ampmDropdown.value = currentAmpm;
                    
                    // Disable dropdowns
                    dayDropdown.disabled = true;
                    hourDropdown.disabled = true;
                    minuteDropdown.disabled = true;
                    ampmDropdown.disabled = true;
                    
                    // Gray out dropdowns
                    dayDropdown.style.backgroundColor = '#e0e0e0';
                    hourDropdown.style.backgroundColor = '#e0e0e0';
                    minuteDropdown.style.backgroundColor = '#e0e0e0';
                    ampmDropdown.style.backgroundColor = '#e0e0e0';
                } else {
                    // Enable dropdowns
                    dayDropdown.disabled = false;
                    hourDropdown.disabled = false;
                    minuteDropdown.disabled = false;
                    ampmDropdown.disabled = false;
                    
                    // Reset background color
                    dayDropdown.style.backgroundColor = '#fff';
                    hourDropdown.style.backgroundColor = '#fff';
                    minuteDropdown.style.backgroundColor = '#fff';
                    ampmDropdown.style.backgroundColor = '#fff';
                }
                fetchAndUpdateData();
            });

            const dayDropdown = document.getElementById('dayDropdown');
            const hourDropdown = document.getElementById('hourDropdown');
            const minuteDropdown = document.getElementById('minuteDropdown');
            const ampmDropdown = document.getElementById('ampmDropdown');

            // Get current time
            const now = new Date();
            const currentDay = dayMapping[now.toLocaleDateString('en-US', { weekday: 'long' })] || 'M';
            const currentHour = now.getHours() % 12 || 12;
            const currentMinute = now.getMinutes() < 30 ? '00' : '30';
            const currentAmpm = now.getHours() >= 12 ? 'PM' : 'AM';
            
            // Set dropdown values
            dayDropdown.value = currentDay;
            hourDropdown.value = currentHour;
            minuteDropdown.value = currentMinute;
            ampmDropdown.value = currentAmpm;
            
            // Disable dropdowns
            dayDropdown.disabled = true;
            hourDropdown.disabled = true;
            minuteDropdown.disabled = true;
            ampmDropdown.disabled = true;
            
            // Gray out dropdowns
            dayDropdown.style.backgroundColor = '#e0e0e0';
            hourDropdown.style.backgroundColor = '#e0e0e0';
            minuteDropdown.style.backgroundColor = '#e0e0e0';
            ampmDropdown.style.backgroundColor = '#e0e0e0';

            fetchAndUpdateData();

        });
    </script>
</body>
</html>
